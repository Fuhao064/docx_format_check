@tailwind base;
@tailwind components;
@tailwind utilities;

/* 自定义主题样式 */
@layer base {
  body {
    @apply bg-gray-50 text-gray-900;
  }
  :root {
    /* 基础色调 */
    --background: 0 0% 98%;        /* 更柔和的灰白 */
    --foreground: 240 10% 10%;     /* 深灰蓝文字 */
    --card: 0 0% 100%;
    --card-foreground: 240 10% 10%;
    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 10%;

    /* 主色调 - 使用更现代的紫蓝色 */
    --primary: 250 60% 45%;        /* 主紫蓝色 */
    --primary-foreground: 0 0% 98%;
    --secondary: 240 15% 90%;      /* 浅灰蓝 */
    --secondary-foreground: 240 10% 10%;
    --muted: 240 10% 95%;
    --muted-foreground: 240 5% 45%;
    --accent: 250 45% 85%;        /* 浅紫蓝 */
    --accent-foreground: 240 10% 10%;

    /* 状态颜色 */
    --destructive: 0 70% 50%;     /* 柔和红 */
    --destructive-foreground: 0 0% 98%;
    --success: 160 60% 40%;       /* 现代绿 */
    --warning: 35 80% 55%;        /* 温暖橙 */
    --info: 220 70% 50%;          /* 清新蓝 */

    /* 边框和输入框 */
    --border: 240 15% 85%;
    --input: 240 15% 85%;
    --ring: 250 60% 45%;

    /* 图表颜色 - 协调的渐进色系 */
    --chart-1: 250 60% 45%;
    --chart-2: 240 50% 55%;
    --chart-3: 230 40% 65%;
    --chart-4: 220 45% 75%;
    --chart-5: 260 50% 65%;

    /* 侧边栏 */
    --sidebar-background: 240 15% 97%;
    --sidebar-foreground: 240 10% 20%;
    --sidebar-primary: 250 60% 45%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 15% 90%;
    --sidebar-accent-foreground: 240 10% 10%;
    --sidebar-border: 240 15% 88%;
    --sidebar-ring: 250 60% 45%;

    /* 圆角 */
    --border-radius-sm: 4px;
    --border-radius-md: 6px;
    --border-radius-lg: 8px;

    /* 过渡动画 */
    --transition-speed: 200ms;    /* 稍快一些的动画 */
  }

  .dark {
    /* 暗色基础 */
    --background: 240 10% 10%;
    --foreground: 240 5% 95%;
    --card: 240 10% 15%;
    --card-foreground: 240 5% 95%;
    --popover: 240 10% 15%;
    --popover-foreground: 240 5% 95%;

    /* 暗色主色调 */
    --primary: 250 60% 55%;       /* 更亮的紫蓝色 */
    --primary-foreground: 240 10% 10%;
    --secondary: 240 10% 20%;
    --secondary-foreground: 240 5% 95%;
    --muted: 240 10% 25%;
    --muted-foreground: 240 5% 65%;
    --accent: 250 45% 30%;
    --accent-foreground: 240 5% 95%;

    /* 暗色状态颜色 */
    --destructive: 0 60% 45%;
    --destructive-foreground: 240 5% 95%;
    --success: 160 50% 50%;
    --warning: 35 70% 60%;
    --info: 220 60% 60%;

    /* 暗色边框和输入框 */
    --border: 240 10% 25%;
    --input: 240 10% 25%;
    --ring: 250 60% 55%;

    /* 暗色侧边栏 */
    --sidebar-background: 240 10% 15%;
    --sidebar-foreground: 240 5% 90%;
    --sidebar-primary: 250 60% 55%;
    --sidebar-primary-foreground: 240 10% 10%;
    --sidebar-accent: 240 10% 20%;
    --sidebar-accent-foreground: 240 5% 95%;
    --sidebar-border: 240 10% 25%;
    --sidebar-ring: 250 60% 55%;
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}

@layer components {
  .btn {
    @apply px-4 py-2 rounded-md transition-colors duration-200;
  }

  .btn-primary {
    @apply bg-[hsl(var(--primary))] hover:bg-[hsl(var(--primary)/0.9)] text-[hsl(var(--primary-foreground))];
  }

  .btn-secondary {
    @apply bg-[hsl(var(--secondary))] hover:bg-[hsl(var(--secondary)/0.9)] text-[hsl(var(--secondary-foreground))];
  }

  /* 应用圆角 */
  .rounded-sm { border-radius: var(--border-radius-sm); }
  .rounded-md { border-radius: var(--border-radius-md); }
  .rounded-lg { border-radius: var(--border-radius-lg); }
}

/* 自定义滚动条 */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: hsl(var(--background));
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--border));
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--foreground)/0.7);
}

/* 动画保持不变 */
.fade-enter-active,
.fade-leave-active {
  transition: opacity var(--transition-speed) ease;
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}

/* 消息样式 */
.message-container {
  position: relative;
  width: 100%;
  max-width: 100%;
}

.system-message {
  position: relative;
  width: 100%;
}

.system-message h1 {
  font-size: 1.5rem;
  font-weight: 600;
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
  color: hsl(var(--foreground));
}

.system-message h2 {
  font-size: 1.25rem;
  font-weight: 600;
  margin-top: 1.25rem;
  margin-bottom: 0.625rem;
  color: hsl(var(--foreground));
}

.system-message h3 {
  font-size: 1.125rem;
  font-weight: 600;
  margin-top: 1rem;
  margin-bottom: 0.5rem;
  color: hsl(var(--foreground));
}

.system-message p {
  margin-bottom: 0.75rem;
  line-height: 1.5;
}

.system-message ul, .system-message ol {
  margin-left: 1.5rem;
  margin-bottom: 0.75rem;
}

.system-message ul {
  list-style-type: disc;
}

.system-message ol {
  list-style-type: decimal;
}

.system-message pre {
  background-color: hsl(var(--secondary));
  border-radius: var(--border-radius-md);
  padding: 1rem;
  margin: 0.75rem 0;
  overflow-x: auto;
}

.system-message code {
  font-family: ui-monospace, monospace;
  font-size: 0.9em;
  background-color: hsl(var(--secondary));
  padding: 0.2em 0.4em;
  border-radius: var(--border-radius-sm);
}

.user-message {
  position: relative;
  padding: 1rem;
  background-color: hsl(var(--primary)/0.1);
  color: hsl(var(--foreground));
  border-radius: var(--border-radius-lg);
  border: 1px solid hsl(var(--primary)/0.2);
  margin-left: auto;
  margin-right: 0;
  font-size: 14px;
  max-width: 60%;
}
